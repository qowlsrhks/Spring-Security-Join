<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sign In</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 400px; margin: auto; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; }
        .form-group input { width: 100%; padding: 8px; box-sizing: border-box; }
        button { padding: 10px 15px; cursor: pointer; }
        #error-message { color: red; }
    </style>
</head>
<body>
<div class="container">
    <h2>Sign In</h2>
    <form id="signInForm" th:action="@{/authenticate}" method="post">
        <div class="form-group">
            <label for="memberEmail">Email:</label>
            <input type="email" id="memberEmail" name="memberEmail">
        </div>
        <div class="form-group">
            <label for="memberPw">Password:</label>
            <input type="password" id="memberPw" name="memberPw">
        </div>
        <button type="submit" id="signInButton">Sign In</button>
    </form>
    <div th:if="${error}">
        <p th:text="${error}"></p>
    </div>
</div>
</body>
</html>

<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->

<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', function () {-->
<!--        const signInButton = document.getElementById('signInButton');-->
<!--        const errorMessage = document.getElementById('error-message');-->

<!--        signInButton.addEventListener('click', function () {-->
<!--            const memberEmail = document.getElementById('memberEmail').value;-->
<!--            const memberPw = document.getElementById('memberPw').value;-->

<!--            const xhr = new XMLHttpRequest();-->
<!--            xhr.open('POST', '/authenticate', true);-->
<!--            xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');-->

<!--            xhr.onreadystatechange = function () {-->
<!--                if (xhr.readyState === 4) {-->
<!--                    if (xhr.status === 200) {-->
<!--                        // Handle success-->
<!--                        window.location.href = '/home'; // 로그인 성공 시 /home으로 이동-->
<!--                    } else if (xhr.status === 403) {-->
<!--                        // Handle forbidden error-->
<!--                        errorMessage.innerText = 'Authentication failed: Forbidden';-->
<!--                    } else {-->
<!--                        // Handle other errors-->
<!--                        errorMessage.innerText = 'Authentication failed: ' + xhr.responseText;-->
<!--                        window.location.href = '/sign'; // 로그인 실패 시 /sign으로 이동-->
<!--                    }-->
<!--                }-->
<!--            };-->

<!--            const payload = JSON.stringify({ memberEmail: memberEmail, memberPw: memberPw });-->
<!--            xhr.send(payload);-->
<!--        });-->
<!--    });-->
<!--</script>-->